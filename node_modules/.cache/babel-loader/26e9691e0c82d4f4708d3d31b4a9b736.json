{"ast":null,"code":"var _jsxFileName = \"/Users/divian/Documents/DU LIEU/MATI KHAI TRI PROJECT/training-calendar-screen/src/components/BoardContent/BoardContent.jsx\",\n  _s = $RefreshSig$();\nimport Column from \"../Column/Column\";\nimport \"./BoardContent.scss\";\nimport { initData } from \"../../action/initData\";\nimport { useState, useEffect } from \"react\";\nimport _, { isEmpty } from \"lodash\";\nimport { mapOrder } from \"../../utilities/sorts\";\nimport { Container, Draggable } from \"react-smooth-dnd\";\nimport { applyDrag } from \"../../utilities/dragDrop\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BoardContent = () => {\n  _s();\n  const [board, setBoard] = useState({});\n  const [columns, setColumns] = useState([]);\n  useEffect(() => {\n    const boardInitData = initData.boards.find(item => item.id === \"board-1\");\n    if (boardInitData) {\n      setBoard(boardInitData);\n\n      //sort columns\n      setColumns(mapOrder(boardInitData.columns, boardInitData.columnOrder, \"id\"));\n    }\n  }, []);\n  const onColumnDrop = dropResult => {\n    //Tạo ra bản sao mảng để có gì xào chẻ trong đây\n    let newColumns = [...columns];\n    //Chứa kết quả sau khi có sự kéo thả\n    newColumns = applyDrag(newColumns, dropResult);\n    //Tạo bản sao của board để có gì xào chẻ trong đây\n    let newBoard = {\n      ...board\n    };\n\n    //Xào chẻ\n    //Xào chẻ thằng columnOrder (đối với mảng bên kia thì là thằng seasons)\n    //Gắn kết quả của newcColumn vào trong thằng NewBoard\n    newBoard.columnOrder = newColumns.map(column => column.id);\n    //Gắn kết quả\n    newBoard.columns = newColumns;\n    setColumns(newColumns);\n    setBoard(newBoard);\n  };\n  const onCardDrop = (dropResult, columnId) => {\n    if (dropResult.removedIndex !== null || dropResult.addedIndex !== null) {\n      let newColumns = [...columns];\n      let currentColumn = newColumns.find(column => column.id === columnId);\n      currentColumn.cards = applyDrag(currentColumn.cards, dropResult);\n      currentColumn.cardOrder = currentColumn.cards.map(card => card.id);\n      setColumns(newColumns);\n    }\n  };\n  if (_.isEmpty(board)) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"not-found\",\n        children: \"Board not found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrap-board-content\",\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      orientation: \"horizontal\",\n      onDrop: onColumnDrop,\n      getChildPayload: index => columns[index],\n      dragHandleSelector: \".column-drag-handle\",\n      dropPlaceholder: {\n        animationDuration: 150,\n        showOnTop: true,\n        className: \"column-drop-preview\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Draggable, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"MON\",\n          children: [\"MON\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"board-columns\",\n            children: /*#__PURE__*/_jsxDEV(Container, {\n              orientation: \"horizontal\",\n              onDrop: onColumnDrop,\n              getChildPayload: index => columns[index],\n              dragHandleSelector: \".column-drag-handle\",\n              dropPlaceholder: {\n                animationDuration: 150,\n                showOnTop: true,\n                className: \"column-drop-preview\"\n              },\n              children: columns && columns.length > 0 && columns.map((column, index) => {\n                return /*#__PURE__*/_jsxDEV(Draggable, {\n                  children: /*#__PURE__*/_jsxDEV(Column, {\n                    column: column,\n                    onCardDrop: onCardDrop\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 25\n                  }, this)\n                }, column.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Draggable, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"TUE\",\n          children: [\"TUE\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"board-columns\",\n            children: /*#__PURE__*/_jsxDEV(Container, {\n              orientation: \"horizontal\",\n              onDrop: onColumnDrop,\n              getChildPayload: index => columns[index],\n              dragHandleSelector: \".column-drag-handle\",\n              dropPlaceholder: {\n                animationDuration: 150,\n                showOnTop: true,\n                className: \"column-drop-preview\"\n              },\n              children: columns && columns.length > 0 && columns.map((column, index) => {\n                return /*#__PURE__*/_jsxDEV(Draggable, {\n                  children: /*#__PURE__*/_jsxDEV(Column, {\n                    column: column,\n                    onCardDrop: onCardDrop\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 25\n                  }, this)\n                }, column.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(BoardContent, \"luxiK+F91jOVnAPxJ9y70/XUrUs=\");\n_c = BoardContent;\nexport default BoardContent;\nvar _c;\n$RefreshReg$(_c, \"BoardContent\");","map":{"version":3,"names":["Column","initData","useState","useEffect","_","isEmpty","mapOrder","Container","Draggable","applyDrag","jsxDEV","_jsxDEV","Fragment","_Fragment","BoardContent","_s","board","setBoard","columns","setColumns","boardInitData","boards","find","item","id","columnOrder","onColumnDrop","dropResult","newColumns","newBoard","map","column","onCardDrop","columnId","removedIndex","addedIndex","currentColumn","cards","cardOrder","card","children","className","fileName","_jsxFileName","lineNumber","columnNumber","orientation","onDrop","getChildPayload","index","dragHandleSelector","dropPlaceholder","animationDuration","showOnTop","length","_c","$RefreshReg$"],"sources":["/Users/divian/Documents/DU LIEU/MATI KHAI TRI PROJECT/training-calendar-screen/src/components/BoardContent/BoardContent.jsx"],"sourcesContent":["import Column from \"../Column/Column\";\r\nimport \"./BoardContent.scss\";\r\nimport { initData } from \"../../action/initData\";\r\nimport { useState, useEffect } from \"react\";\r\nimport _, { isEmpty } from \"lodash\";\r\nimport { mapOrder } from \"../../utilities/sorts\";\r\nimport { Container, Draggable } from \"react-smooth-dnd\";\r\nimport { applyDrag } from \"../../utilities/dragDrop\";\r\nconst BoardContent = () => {\r\n  const [board, setBoard] = useState({});\r\n  const [columns, setColumns] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const boardInitData = initData.boards.find((item) => item.id === \"board-1\");\r\n    if (boardInitData) {\r\n      setBoard(boardInitData);\r\n\r\n      //sort columns\r\n      setColumns(\r\n        mapOrder(boardInitData.columns, boardInitData.columnOrder, \"id\")\r\n      );\r\n    }\r\n  }, []);\r\n\r\n  const onColumnDrop = (dropResult) => {\r\n    //Tạo ra bản sao mảng để có gì xào chẻ trong đây\r\n    let newColumns = [...columns];\r\n    //Chứa kết quả sau khi có sự kéo thả\r\n    newColumns = applyDrag(newColumns, dropResult);\r\n    //Tạo bản sao của board để có gì xào chẻ trong đây\r\n    let newBoard = { ...board };\r\n\r\n    //Xào chẻ\r\n    //Xào chẻ thằng columnOrder (đối với mảng bên kia thì là thằng seasons)\r\n    //Gắn kết quả của newcColumn vào trong thằng NewBoard\r\n    newBoard.columnOrder = newColumns.map((column) => column.id);\r\n    //Gắn kết quả\r\n    newBoard.columns = newColumns;\r\n\r\n    setColumns(newColumns);\r\n    setBoard(newBoard);\r\n  };\r\n\r\n  const onCardDrop = (dropResult, columnId) => {\r\n    if (dropResult.removedIndex !== null || dropResult.addedIndex !== null) {\r\n      let newColumns = [...columns];\r\n\r\n      let currentColumn = newColumns.find((column) => column.id === columnId);\r\n      currentColumn.cards = applyDrag(currentColumn.cards, dropResult);\r\n      currentColumn.cardOrder = currentColumn.cards.map((card) => card.id);\r\n\r\n      setColumns(newColumns);\r\n    }\r\n  };\r\n  if (_.isEmpty(board)) {\r\n    return (\r\n      <>\r\n        <div className=\"not-found\">Board not found</div>\r\n      </>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"wrap-board-content\">\r\n      <Container\r\n        orientation=\"horizontal\"\r\n        onDrop={onColumnDrop}\r\n        getChildPayload={(index) => columns[index]}\r\n        dragHandleSelector=\".column-drag-handle\"\r\n        dropPlaceholder={{\r\n          animationDuration: 150,\r\n          showOnTop: true,\r\n          className: \"column-drop-preview\",\r\n        }}\r\n      >\r\n        <Draggable>\r\n          <div className=\"MON\">\r\n            MON\r\n            <div className=\"board-columns\">\r\n              <Container\r\n                orientation=\"horizontal\"\r\n                onDrop={onColumnDrop}\r\n                getChildPayload={(index) => columns[index]}\r\n                dragHandleSelector=\".column-drag-handle\"\r\n                dropPlaceholder={{\r\n                  animationDuration: 150,\r\n                  showOnTop: true,\r\n                  className: \"column-drop-preview\",\r\n                }}\r\n              >\r\n                {columns &&\r\n                  columns.length > 0 &&\r\n                  columns.map((column, index) => {\r\n                    return (\r\n                      <Draggable key={column.id}>\r\n                        <Column column={column} onCardDrop={onCardDrop} />\r\n                      </Draggable>\r\n                    );\r\n                  })}\r\n              </Container>\r\n            </div>\r\n          </div>\r\n        </Draggable>\r\n\r\n        <Draggable>\r\n          <div className=\"TUE\">\r\n            TUE\r\n            <div className=\"board-columns\">\r\n              <Container\r\n                orientation=\"horizontal\"\r\n                onDrop={onColumnDrop}\r\n                getChildPayload={(index) => columns[index]}\r\n                dragHandleSelector=\".column-drag-handle\"\r\n                dropPlaceholder={{\r\n                  animationDuration: 150,\r\n                  showOnTop: true,\r\n                  className: \"column-drop-preview\",\r\n                }}\r\n              >\r\n                {columns &&\r\n                  columns.length > 0 &&\r\n                  columns.map((column, index) => {\r\n                    return (\r\n                      <Draggable key={column.id}>\r\n                        <Column column={column} onCardDrop={onCardDrop} />\r\n                      </Draggable>\r\n                    );\r\n                  })}\r\n              </Container>\r\n            </div>\r\n          </div>\r\n        </Draggable>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\nexport default BoardContent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}